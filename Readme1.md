Домашнее задание к занятию "6.1. Типы и структура СУБД"

Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

    Электронные чеки в json виде
    Склады и автомобильные дороги для логистической компании
    Генеалогические деревья
    Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
    Отношения клиент-покупка для интернет-магазина

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.


Ответ:
Электронные чеки в json виде - Все зависет от сервиса и размеров данных. Если в приоретете высокая надежность при большой нагрузке - Cassandra, иначе достаточно  MongoDB. SQL-базы, потребуется если нужно будет кроме чеков хранить иную информацию.
Склады и автомобильные дороги для логистической компании - ГБД-базы типа OrientDB - в связи с высокой производительностью и простоте внесения изменений в схему баз данных при построение логических цепочек.
Генеалогические деревья - IMS (либо иная иерархическая система
Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации - Redis (ключь - значение) самое оно.
Отношения клиент-покупка для интернет-магазина - Хотел написать EXCEL, но есть же MongoDB!



Задача 2

Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

    Данные записываются на все узлы с задержкой до часа (асинхронная запись)
    При сетевых сбоях, система может разделиться на 2 раздельных кластера
    Система может не прислать корректный ответ или сбросить соединение

А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

Ответ:
Мое распределенное высоконагруженное приложение будет соотвествовать CP системе, так как она всегда корректна, отрабатывает транзакцию в случае, если изменения удалось распространить по всем серверам, корректно читать данные даже при отказе одного из узлов кластера. В случае если запись будет обрываться или сильно задерживаться, пока система не убедится в своей целостности и согласованности (консистентности).
(PС/EС в PACELC максимально приближается к парадигме ACID, жертвуется доступностью (A) в угоду консистентности (С), используя огораживание (fencing) при разделении (P) в распределённых системах. В неразделённых (E)lse системах «под нож» пойдёт скорость (L)atency, так как консистентность – это один из столпов ACID.)


Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

Ответ:
Это невозможно, так как ACID гарантирует консистентность данных, а BASE допускает возврат неверных данных.

Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

    фиксация некоторых значений с временем жизни
    реакция на истечение таймаута

Вы слышали о key-value хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора данной системы?

Ответ: REDIS
Ресурсоемкость в ОЗУ, что делает её уязвимой к отказу сервера и последение данные могут быть утерены.
